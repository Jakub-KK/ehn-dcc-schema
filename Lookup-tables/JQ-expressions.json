RAT list to schema
curl https://covid-19-diagnostics.jrc.ec.europa.eu/devices/hsc-common-recognition-rat | jq '{"test-result": {
    "description": "EU eHealthNetwork: Value Sets for Digital Green Certificates. version 1.0, 2021-04-16, section 2.9",
    "type": "object",
    "required": ["code"],
    "oneOf": [
      .deviceList | .[] | { "code": { "const": .id_device}, "display": { "const": (.manufacturer.name + ", " + .commercial_name) } }
    ]
  }}'>list.json




$RAT list to lookup
curl https://covid-19-diagnostics.jrc.ec.europa.eu/devices/hsc-common-recognition-rat | jq '.extracted_on as $version | .deviceList | reduce .[] as $i ({}; .[$i.id_device] =
{ "display": ($i.manufacturer.name + ", " + $i.commercial_name),
    "lang":"en",
    "active":"true",
    "system": "https://covid-19-diagnostics.jrc.ec.europa.eu/devices",
    "version":  $version,
    "valueSetId": "covid-19-lab-test-manufacturer-and-name"
})' > DGC-RAT-Lookup.json


Countries expression
jq '.compose.include[0].system as $system | reduce .compose.include[0].concept[] as $i ({}; .[$i.code] =
{
    "display": $i.display,
    "lang": "en",
    "active": "true",
    "system": $system,
    "valueSetId": "iso3166-1-2"
})' dev/DGC\ schema/ISO-Country-2-codes.json